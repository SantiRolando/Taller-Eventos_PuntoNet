@page "/register"

<link href="css/site.css" rel="stylesheet" />

<section class="register-section">

    <div class="register-card">

        <h2>Crear cuenta</h2>

        <form class="register-form">

            <div class="form-group">
                <label for="cedula">Cédula</label>
                <input type="text" id="cedula" placeholder="5.317.888-4" maxlength="12" oninput="formatCedula(this)" />
            </div>

            <div class="form-group">
                <label for="nombre">Nombre</label>
                <input type="text" id="nombre" placeholder="Tu nombre completo" />
            </div>

            <div class="form-group">
                <label for="email">Correo electrónico</label>
                <input type="email" id="email" placeholder="ejemplo@correo.com" />
            </div>

            <div class="form-group">
                <label for="password">Contraseña</label>
                <input type="password" id="password" placeholder="********" />
            </div>

            <div class="form-group">
                <label for="tipo">Tipo de usuario</label>
                <select id="tipo">
                    <option value="Participante">Participante</option>
                    <option value="Administrador">Administrador</option>
                </select>
            </div>

            <button type="submit" class="btn-register">Registrarse</button>

            <p class="login-link">
                ¿Ya tienes una cuenta?
                <NavLink href="/login">Inicia sesión aquí</NavLink>
            </p>

        </form>

    </div>

</section>

<script>
    function formatCedula(input) {

        // solo numeros
        let value = input.value.replace(/\D/g, "");

        //8 dígitos
        if (value.length > 8) value = value.substring(0, 8);

        //formato
        if (value.length > 7) {
            value = value.replace(/^(\d{1})(\d{3})(\d{3})(\d{1})$/, "$1.$2.$3-$4");
        } else if (value.length > 6) {
            value = value.replace(/^(\d{1})(\d{3})(\d{0,3})$/, "$1.$2.$3");
        } else if (value.length > 3) {
            value = value.replace(/^(\d{1})(\d{0,3})$/, "$1.$2");
        }

        input.value = value;
    }
</script>

